{% extends "base.html" %}
{% block content %}
<h2>{{ 'Edit Product' if editing else 'Add New Product' }}</h2>
<form method="post" class="card form">
  <label>Product Title <input name="title" value="{{ prod.title if prod else '' }}" required></label>
  <label>Category
    <select name="category" required>
      {% for c in categories %}
        <option value="{{c}}" {% if prod and prod.category==c %}selected{% endif %}>{{c}}</option>
      {% endfor %}
    </select>
  </label>
  <label>Description <textarea name="description" required>{{ prod.description if prod else '' }}</textarea></label>
  <label>Price <input name="price" type="number" step="0.01" min="0" value="{{ prod.price if prod else '' }}" required></label>
  <label>Image URL (optional) <input name="image_url" value="{{ prod.image_url if prod else '' }}"></label>
  <button>{{ 'Update' if editing else 'Submit Listing' }}</button>
</form>
{% endblock %}
